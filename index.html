<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Forecast Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header>
    <div class="logo">Buses Hualpen</div>
</header>

<div class="container">
    
    <div class="title">
        <span class="path">T-shirt / black</span>
        <h1>Forecast</h1>
    </div>

    <!-- MENÚ DESPLEGABLE DE GRÁFICOS -->
    <div class="chart-selector">
        <label for="chartSelect">Seleccionar gráfico:</label>
        <select id="chartSelect">
            <option value="forecast">Forecast vs Real</option>
            <option value="desviacion">Desviaciones</option>
            <option value="torta">Errores por producto</option>
            <option value="proveedor">Cumplimiento proveedor</option>
        </select>
    </div>

    <!-- GRÁFICOS (solo uno visible a la vez) -->
    <div id="forecastCard" class="chart-card">
        <canvas id="forecastChart" height="120"></canvas>
    </div>

    <div id="desviacionCard" class="chart-card hidden">
        <canvas id="desviacionChart" height="120"></canvas>
    </div>

    <div id="tortaCard" class="chart-card hidden">
        <canvas id="tortaChart" height="120"></canvas>
    </div>

    <div id="proveedorCard" class="chart-card hidden">
        <canvas id="proveedorChart" height="120"></canvas>
    </div>

    <!-- PANEL DE ALERTAS -->
    <div id="alertCard" class="info-card">
        <h3>Alertas del forecast</h3>
        <p id="alertText">Cargando alertas...</p>
    </div>

    <!-- PANEL DE CAUSAS PROBABLES -->
    <div id="causaCard" class="info-card">
        <h3>Causa probable</h3>
        <p id="causaText">Analizando posibles causas...</p>
    </div>

    <!-- PANEL DE RECOMENDACIÓN -->
    <div id="recomendacionCard" class="info-card">
        <h3>Recomendación automática</h3>
        <p id="recomendacionText">Calculando recomendación...</p>
    </div>

    <!-- PANEL DE SIMULADOR -->
    <div id="simuladorCard" class="info-card">
        <h3>Simulador de ajuste de forecast</h3>
        <p>Ajuste actual: <span id="ajusteValor">0%</span></p>
        <input type="range" id="ajusteSlider" min="-30" max="30" value="0">
        <p class="simu-nota">Mueve el deslizador para ver cómo cambiaría el forecast ajustado.</p>
    </div>

    <!-- PANEL DE RANKING Y COSTO -->
    <div id="rankingCard" class="info-card">
        <h3>Ranking de errores y costo estimado</h3>
        <p><strong>Productos con mayor error:</strong></p>
        <ul id="rankingList"></ul>
        <p id="costoText"></p>
    </div>

    <!-- TABLA DETALLE (se mantiene igual) -->
    <table class="forecast-table">
        <thead>
            <tr>
                <th>Mes</th>
                <th>Esperado</th>
                <th>Demandado</th>
                <th>En Inventario</th>
                <th>Pedido Sugerido</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Mes actual</td>
                <td>120</td>
                <td>80</td>
                <td><span class="badge red">Bajo</span></td>
                <td>100</td>
            </tr>
            <tr>
                <td>Week 2</td>
                <td>90</td>
                <td>30</td>
                <td><span class="badge yellow">Medio</span></td>
                <td>60</td>
            </tr>
            <tr>
                <td>Week 3</td>
                <td>60</td>
                <td>20</td>
                <td><span class="badge green">Optimo</span></td>
                <td>40</td>
            </tr>
        </tbody>
    </table>

    <!-- LINK AL SITIO OFICIAL -->
    <div class="footer-link">
        <a href="https://www.buseshualpen.cl/" target="_blank">
            Sitio oficial de Buses Hualpén
        </a>
    </div>

</div>

<script src="chart.js"></script>

</body>
</html>






